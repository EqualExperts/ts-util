language: node_js
node_js:
- '8'
services:
- mongodb
before_install:
- openssl aes-256-cbc -K $encrypted_93d614a3c578_key -iv $encrypted_93d614a3c578_iv
  -in test/xero/xero-int-test-privatekey.pem.enc -out test/xero/xero-int-test-privatekey.pem
  -d
install:
- npm install
before_script:
- sleep 10
script:
- npm run build
env:
  global:
  - secure: cb7s/nJybwk9BKLvqhDiz8dc5wKW9OVK71NXel1i2s+DiqMRMiIF4rxRlZb/tMf6Pc/4LY862DX6TlCJENYq0+c+cfgX22QREkfGS5V6SemuANO2srUUVTWj9XX84nSKhWm4J9G0XRicHz7sKGb+7pd+1S/ERnVyqfDUtEf3gwKiNvUbPGzqpPHTxwTeEWMLeyZOWtgNImA51/Przzkxzqv4IpKy73Rn0prZkNfzV+Nj0fT+gBq+Zyvm4qBWF3OFvH/gs/MvuwFcVAGv39shz5z+CJMonv+Fp0FUO1Z/2ZVleGliQEiXTz0JC0oxsSORyzF9rLCX3928FkAbY/n7z9IxDJ+m3e204+eQmI8pz8binNcjfon8FKa78i1L5zToVhCbfTUxnUujw9/NVtPGjF/CAwZGjrtD5aEXCNPr1CRUsnNBH0Oj8560SvPXsTXKjjgUfWk9gEPAclgT4XGh5WpSDXQzAg66FOdxd30AyWcpNrmOwnBL2AQzoJIyCjvGDfNdACiRtIYFNkkKKQ95ke/SJeiJQxv6lE6WY8l17BQCgPzjXtfnUg1t6kkL7VNkr8mFBX4ANIgdzbk3SB4ZRlNJvNjEvPVJ+4v65vgyhvl79TCyV2vGsrsr+8GYsDTn4WA/La9rfxwI8uc+IEgMUeMyy2r1bJpY8c7gqdP8ty8=
  - secure: G8dQdxu5RAF5nxC4Dsx0paZLhDCiocejpEzd9tVHqUjE2fVLkJ7IPbB4LBNX6R+M37mm0caF4M7pG/oaVvPO5DjZmuxwqtUIrzFUMCrJktc6X55w+YUbKcosEtA36aP+DPV2aX6va10NO1lr4DNpscHFJ/v1RmUJX38hU7cTEyvDbbO/rCijprECZv4OmXFf4wdc9EMYYiTGx6HhitFIpLeU/GPao1sfkFzitw93QH+XErGPwFpHDgiCR/9hOhe5KS8htR0kN+qzNz483+i9yRAnW9thElYVoaYZand75VGRxGdo2hL5qo+Lr90l0DIuwbKzZWDezDOwWH5zyHQGOwe7IwVclmrxPWSdUx4PlLK5BpC3fTeQkxHmyjOI2UZO1rZR0O0nB40BG1pihlDBcIUQH7fwfZVcMK1obEaMRHbk64/74qylc/qPkiMvHv0g1kadcQdRID2ACoQ/vOZfXvoi+9Oxfy1ybI2zLlUUDEHAQSAxWd5cM7Eie1evVZx4vEzYFeekdUn/L1hKNtQmhuK1WyQ0dH45f9mFvOJu+0lGosoYHNHlXx3rQYv+2SUdFWY/8BPkZvbTXWjgQCSJfpj2H7hSCW7qUCpqlsrItn1xNQeHOYE4bPACtDouZhOoizxRNi7UCY2+nrjBzfoSNCi9eJEjSzWNFDngypgD+tE=
  - secure: EmPf21M4aMzPIx7/Q4fvLeqTNvedVVulkea84KRwXtCqVUM6qb65Ud9qsP1N1TK8rT95rgzNQko5ojsaxbpkDl0WWA+13Jr3llr2IhAUx9g5pfPQMutcpgGI69hpOYSDosCHfY11JMenkZCG+JBQABARgvf1szPtztIGfq8Mi0ZfFAe5G3ZbG1qvfIXIHAEq4ESA0mCo4iPrHYbmgVueV2KkaDYElzxC6ZWUYPnK+bDzzmgMCmEBK1Z7nNWk93qT6Q6t3AivzLaOHyMAkXzRxY0soHNPnaAunFx6GGyi5HBwmMTrzk8ZsLAHF4CT1mfe5LstNUNT1lK4oF9fWbk7wjHYb0XJYkQKRV1QfG66r/jGuzRgY23CKGUNgo0sdFROS+bOdZNpV8KDw4nTB38iCoMZvFcMsKvF7MLARhBuiyy6LOcTNfvkj+NBpmAtxI3k68/doKefk9f6bWXgK2YEMgK8kVwA92TcvPqs2Lf/+HtPqeIs6iw3/vKW8dcZGm6lo7Dk5aADWilv3KPJ0ABGinP0JePQ59ZnQYNV4k2eBOiLRh3vLKZdINOaVCh64yWeMc8WvbLl2T28CVuw5d1jDf1G4Eem7Da1pty0hLZ4JwiSp4nK9fKd3OrIQQsjXvJpO5aUIz5feHmN4UaswZbx4nx4VOJgM7e4gDZzIt8yXP4=
  - secure: hiJfFrtHsg7lBEV49ZjLUEMTT6KdjYnByy+R0riK2wUJRk4fK+QnO+mjMc/uYB/K8orwUWiYQTPAj9/Zy0+/VfdYQP7kjdOxVxmH+Q6FtyRZ0Ybg/lqTlq7FIgOFmkTJ2V2rdVxObTsN8yCOzKjEiQbaD0WMOVcoPITnVppob9tmgQzTfTxmqcDeOqwXVjicCYFRvqVXnDFEufwlMaRwiAsVNPTmH/o9kKq6nnHIwduWLI/iBng0HH1QZ2m5adVKGoXPczxc1EVMAcr/KYJF4aBNVE5XY9eHaRKpPv8lgLNu3qkNn1h3AlMCJApFFCDXNe5HHpKcj+4nRgSxMd1h5re/tiJIoPY7IczQG3+VJVBIbPQhlDAW6dMSdOldDUutm5aHStBXaDuAt4E2gZYxWCksbQ6UA7/VT6t6ZOU9ph0vrZz19/aSXb9M/2HC0BsitU68/eekC5ICBQNLJScX/DL4FgG6iX9PY3YfOkzLitt7hPRyQkjGsr2w1/BwW58PTp2LfoOCzKhcsVt2gle9IkitJfenYRR+nrXYiZaNcpoP/VEpcTD+AHIYP8OEDvl97oQGSKkNZwKQRmPy7UJl1iXqAO7TOWxS5zVaSKeF77dvel2oat7x9Nv8wG8pvmo24E18sDCuBkhXDGgM4ThJBa7hwyfFVFMwuAOG3+PSdV0=
  - secure: WOlqyOMzHc8FTJB1BHPYumNHZXQt5jKjcJECQaF96V3sTpXsZiY5HuPimlTMnOKHmcTR4P5LJVcpDEopL3Q3Hn8TeYHeD306OJCt7kqsiSSxxEioTy9NTH5lNEGb04RnlYAQD/6T39PV40Z8uHTDCXLG6YBVmUI00pqAQRk8Zu5fMT4KEJfMwrEOx4i4dJkuE/0LLeb+jWvThKVHoGpJ9x9Ydw1WZKHqNWlh54oN4YQl8kCnt8trL/wHmW5OHIFNR5hQsLZB/A7GaqJPpebg2gqFSHhQXP6kbDiqf7xHnTgFJ0UNXu7dxfMGltAQHuSDvcUWq1tb9b4eof/QtIq9M7Y2BcYXAivhUwafZBr0U/09Fwfvaj/wIJQZXsuQ22YfSbNEmMom+Dz0Xyp62cqQzGIMo/4J9i17K9pxbwU2MVMF9/MSkb4P1El0IxKYXvkx+Aj8AFbQ4jaaf/0SXd84Unbo7B4VHLHjHjWP7FqQDt3jC0XgybR8rVr4gd03cPXP5Qe4irt3Mc1HnIfqNyfo9HZvfnc3wvyrBqihKmNATaU6ebk9quYGgWeePmJ1UTN4D+JB9qGBrh7AIijCOXcOAL0z8D0MGftegVm3YLyO6Xy49uzIkH9A3RMG0BHFoV/HcFgejkbjH6yKtgiqubnLpX6plLYow6+uK2DJKWDlu5I=
  - secure: gfiM9i0QGCux2cfAjcUFaqBF7Ns6G8nsGhSlpjqn1hu1NFAX3eiVaYV3AWjh8hE11bBGapxmpT0BxfbRULuOY9EQ7n7U/JF1FzR4jmprGjt4i3vPJcQS/RDDP+jZViFDjs7dWPFCvAOCHQIsW1eqa8sxTjHVkOYoZnqX82vZoabfvIfvV2RFz/iFsYar6GbXmVvjJuZYXGZxm7V2UtD9qAKEfzEss1+tn0cvCAlFAAWIQ4mV4COlmvDeIsd0hgo5CTkYlz9QZWdl2s4qbB6r74blupbBkV++igTLGjCiKunBCff//mykhmonaJm80SDIKbtimFCFckAgUKepdzpoguEjRLAD7KEgPFY5u9Spm11ZytZwW7j7vD1QxjhKq1Z+2LWj50MguDKt1jAqkHJscqU6mVbGVgwKY/ffMEy+6LB4BdhgZuw2ZkeU342M5ZLFPGvVfdEVW4Dx7L/maQJtiWXhgFxV1WgycSLxkwrbwCdVGTRZQLWYsASpuxsw2A9E+RyKU2N2776ruAtKsMXAwqdLGLuaREpYR60w5aLEdjeP1MeSOGWsE8G3nyISm5NSgcR2/GwMtX0ETcSmAQ2WY8BpKoUlW8TptZIGD/p3Vh7ydcPydr/Zs8zrQ9e2UzDzOJjb5DyIfmyLFbdHDx2wVy3I1NQfqSj1xv4cB5C7hqI=
  - secure: mbjyykeTnVBgH5fXmXv6LU8i5QmUjPmdls9HlRRo0W+kFpqNaUK/fUs10OhnYKfjjTCHH/xX342Z8U88YoC9gjHYYklF/H84OUcAlOXXFvY1DgZUBcQMkHngYMVTHvCCvAS+Tn0RGFOJg+Uyv+jKsPug/Z/0iov6C9tNQ0LLLOMwnkNdGFIAh8fpYF8N7da8N1G2UD7rmeSkEDBW8yHqtvPM5jneFlYtKz6mEfrhU9rHwvoVOXeMcOjeqKz1i1Ef8ltD/8nX0MwrM+bhyINK6jJQGTQfy6YywXR8V0u5n9F5R6DC9wOWBl+lPH75wZ5773g4i6Xmm2KBK2WuNZGYAv+c8B/Me6NWE66MjO7xP1Rk9HBtrmIYBsftD0FyHQby+jshwa8A2QIEFv6PtBwwzHI2X/Y2kltSGsWGniJG/e7O87FT2WpHRKVv1WDqzCytTmf87TgV18z+5gpNisN5hoy+WylMXOrSrPyIEw6E9tu8Ad7Q0VZI8Utv4wmmyehS3tiG0DGAM2YNNkti0enSdu4/pO991cR7fg9pyXzRzDdoBIsSSeEurvE0w2UMpwDfE+VePRZ2eFJPN7U6WyFRtw/fJpwVpu775JzHE+AWb0ohGApFdfj31FxEDMRKnS46i2geZf/LzbM9o/0gmSMWw+FukNXf2sFyhxHeajNFbTc=
  - secure: OlJa3JTRnzU7PTvnli0EKaBlBiCG2n127kcvhJLdnwgQS+YK/cxmw2OQfPywnQtN8cA6KcoJ/3EDWZTBAX1C9cM+D8POLCzEcGWqSeM3W8ynk648Ztw31+foN35IWWPB/1G9CNFr6Dbaw3QGnDhtsj8Uddpzijpoau5p0aLNZm+lC0uBD8hcWqoej9a54MMUeJVxPQFpkI8KTRl0xpXQ2PbgT/eCyxoAnEAG1/842K94qe71Sg0blaIAmsbkh93akIgZWJXYh1TX639UTUx/Yd9rq5+srwAflh+rp9l+dy0TGMnJxMz3RtWbFM7yz0/OV0iCoQMf2XcdtGDMlLoycuwvBR8xLcUtjakmmd5M109jFcj1umKgWA8iPR6U7rBF25+5L86gxwhsu2TdhAqCymUs1gxmI+mdaQa1u4vWqJ5tbJKCVKUoDHz4M5pDG9UmUnRe7DYG3pc4jovsek1QHCox2nDskXiZn5/GiGlNzWHdYdkuk7eD1Lhp+OXkV9p4kgoSbfjtxySUf9RVLW2KHwAYi5AggRWJghkOfe6VBloqKFqhlMg9arx27T5ZLPwXrDUJ+EBFlciKCKkcE84fNI5BJPkwgClNetEOUJjNQeu0R5pMfdDIeP/VW8AQ9OSXBcCrA7JNYCsUW1sS8AcNaAZzxRgxxM3fJwcyAVWV2uc=
deploy:
  provider: npm
  email: esoftware@equalexperts.com
  tag: next
  api_key: "$NPM_TOKEN"
  skip_cleanup: true
