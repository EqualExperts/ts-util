language: node_js
node_js:
- '8'
services:
- mongodb
before_install:
- openssl aes-256-cbc -K $encrypted_93d614a3c578_key -iv $encrypted_93d614a3c578_iv
  -in travis-secrets/xero-int-test-privatekey.pem.enc -out travis-secrets/xero-int-test-privatekey.pem
  -d
install:
- npm install
before_script:
- sleep 10
script:
- npm run build
env:
  global:
  - secure: cb7s/nJybwk9BKLvqhDiz8dc5wKW9OVK71NXel1i2s+DiqMRMiIF4rxRlZb/tMf6Pc/4LY862DX6TlCJENYq0+c+cfgX22QREkfGS5V6SemuANO2srUUVTWj9XX84nSKhWm4J9G0XRicHz7sKGb+7pd+1S/ERnVyqfDUtEf3gwKiNvUbPGzqpPHTxwTeEWMLeyZOWtgNImA51/Przzkxzqv4IpKy73Rn0prZkNfzV+Nj0fT+gBq+Zyvm4qBWF3OFvH/gs/MvuwFcVAGv39shz5z+CJMonv+Fp0FUO1Z/2ZVleGliQEiXTz0JC0oxsSORyzF9rLCX3928FkAbY/n7z9IxDJ+m3e204+eQmI8pz8binNcjfon8FKa78i1L5zToVhCbfTUxnUujw9/NVtPGjF/CAwZGjrtD5aEXCNPr1CRUsnNBH0Oj8560SvPXsTXKjjgUfWk9gEPAclgT4XGh5WpSDXQzAg66FOdxd30AyWcpNrmOwnBL2AQzoJIyCjvGDfNdACiRtIYFNkkKKQ95ke/SJeiJQxv6lE6WY8l17BQCgPzjXtfnUg1t6kkL7VNkr8mFBX4ANIgdzbk3SB4ZRlNJvNjEvPVJ+4v65vgyhvl79TCyV2vGsrsr+8GYsDTn4WA/La9rfxwI8uc+IEgMUeMyy2r1bJpY8c7gqdP8ty8=
  - secure: G8dQdxu5RAF5nxC4Dsx0paZLhDCiocejpEzd9tVHqUjE2fVLkJ7IPbB4LBNX6R+M37mm0caF4M7pG/oaVvPO5DjZmuxwqtUIrzFUMCrJktc6X55w+YUbKcosEtA36aP+DPV2aX6va10NO1lr4DNpscHFJ/v1RmUJX38hU7cTEyvDbbO/rCijprECZv4OmXFf4wdc9EMYYiTGx6HhitFIpLeU/GPao1sfkFzitw93QH+XErGPwFpHDgiCR/9hOhe5KS8htR0kN+qzNz483+i9yRAnW9thElYVoaYZand75VGRxGdo2hL5qo+Lr90l0DIuwbKzZWDezDOwWH5zyHQGOwe7IwVclmrxPWSdUx4PlLK5BpC3fTeQkxHmyjOI2UZO1rZR0O0nB40BG1pihlDBcIUQH7fwfZVcMK1obEaMRHbk64/74qylc/qPkiMvHv0g1kadcQdRID2ACoQ/vOZfXvoi+9Oxfy1ybI2zLlUUDEHAQSAxWd5cM7Eie1evVZx4vEzYFeekdUn/L1hKNtQmhuK1WyQ0dH45f9mFvOJu+0lGosoYHNHlXx3rQYv+2SUdFWY/8BPkZvbTXWjgQCSJfpj2H7hSCW7qUCpqlsrItn1xNQeHOYE4bPACtDouZhOoizxRNi7UCY2+nrjBzfoSNCi9eJEjSzWNFDngypgD+tE=
  - secure: EmPf21M4aMzPIx7/Q4fvLeqTNvedVVulkea84KRwXtCqVUM6qb65Ud9qsP1N1TK8rT95rgzNQko5ojsaxbpkDl0WWA+13Jr3llr2IhAUx9g5pfPQMutcpgGI69hpOYSDosCHfY11JMenkZCG+JBQABARgvf1szPtztIGfq8Mi0ZfFAe5G3ZbG1qvfIXIHAEq4ESA0mCo4iPrHYbmgVueV2KkaDYElzxC6ZWUYPnK+bDzzmgMCmEBK1Z7nNWk93qT6Q6t3AivzLaOHyMAkXzRxY0soHNPnaAunFx6GGyi5HBwmMTrzk8ZsLAHF4CT1mfe5LstNUNT1lK4oF9fWbk7wjHYb0XJYkQKRV1QfG66r/jGuzRgY23CKGUNgo0sdFROS+bOdZNpV8KDw4nTB38iCoMZvFcMsKvF7MLARhBuiyy6LOcTNfvkj+NBpmAtxI3k68/doKefk9f6bWXgK2YEMgK8kVwA92TcvPqs2Lf/+HtPqeIs6iw3/vKW8dcZGm6lo7Dk5aADWilv3KPJ0ABGinP0JePQ59ZnQYNV4k2eBOiLRh3vLKZdINOaVCh64yWeMc8WvbLl2T28CVuw5d1jDf1G4Eem7Da1pty0hLZ4JwiSp4nK9fKd3OrIQQsjXvJpO5aUIz5feHmN4UaswZbx4nx4VOJgM7e4gDZzIt8yXP4=
  - secure: hiJfFrtHsg7lBEV49ZjLUEMTT6KdjYnByy+R0riK2wUJRk4fK+QnO+mjMc/uYB/K8orwUWiYQTPAj9/Zy0+/VfdYQP7kjdOxVxmH+Q6FtyRZ0Ybg/lqTlq7FIgOFmkTJ2V2rdVxObTsN8yCOzKjEiQbaD0WMOVcoPITnVppob9tmgQzTfTxmqcDeOqwXVjicCYFRvqVXnDFEufwlMaRwiAsVNPTmH/o9kKq6nnHIwduWLI/iBng0HH1QZ2m5adVKGoXPczxc1EVMAcr/KYJF4aBNVE5XY9eHaRKpPv8lgLNu3qkNn1h3AlMCJApFFCDXNe5HHpKcj+4nRgSxMd1h5re/tiJIoPY7IczQG3+VJVBIbPQhlDAW6dMSdOldDUutm5aHStBXaDuAt4E2gZYxWCksbQ6UA7/VT6t6ZOU9ph0vrZz19/aSXb9M/2HC0BsitU68/eekC5ICBQNLJScX/DL4FgG6iX9PY3YfOkzLitt7hPRyQkjGsr2w1/BwW58PTp2LfoOCzKhcsVt2gle9IkitJfenYRR+nrXYiZaNcpoP/VEpcTD+AHIYP8OEDvl97oQGSKkNZwKQRmPy7UJl1iXqAO7TOWxS5zVaSKeF77dvel2oat7x9Nv8wG8pvmo24E18sDCuBkhXDGgM4ThJBa7hwyfFVFMwuAOG3+PSdV0=
  - secure: WOlqyOMzHc8FTJB1BHPYumNHZXQt5jKjcJECQaF96V3sTpXsZiY5HuPimlTMnOKHmcTR4P5LJVcpDEopL3Q3Hn8TeYHeD306OJCt7kqsiSSxxEioTy9NTH5lNEGb04RnlYAQD/6T39PV40Z8uHTDCXLG6YBVmUI00pqAQRk8Zu5fMT4KEJfMwrEOx4i4dJkuE/0LLeb+jWvThKVHoGpJ9x9Ydw1WZKHqNWlh54oN4YQl8kCnt8trL/wHmW5OHIFNR5hQsLZB/A7GaqJPpebg2gqFSHhQXP6kbDiqf7xHnTgFJ0UNXu7dxfMGltAQHuSDvcUWq1tb9b4eof/QtIq9M7Y2BcYXAivhUwafZBr0U/09Fwfvaj/wIJQZXsuQ22YfSbNEmMom+Dz0Xyp62cqQzGIMo/4J9i17K9pxbwU2MVMF9/MSkb4P1El0IxKYXvkx+Aj8AFbQ4jaaf/0SXd84Unbo7B4VHLHjHjWP7FqQDt3jC0XgybR8rVr4gd03cPXP5Qe4irt3Mc1HnIfqNyfo9HZvfnc3wvyrBqihKmNATaU6ebk9quYGgWeePmJ1UTN4D+JB9qGBrh7AIijCOXcOAL0z8D0MGftegVm3YLyO6Xy49uzIkH9A3RMG0BHFoV/HcFgejkbjH6yKtgiqubnLpX6plLYow6+uK2DJKWDlu5I=
  - secure: gfiM9i0QGCux2cfAjcUFaqBF7Ns6G8nsGhSlpjqn1hu1NFAX3eiVaYV3AWjh8hE11bBGapxmpT0BxfbRULuOY9EQ7n7U/JF1FzR4jmprGjt4i3vPJcQS/RDDP+jZViFDjs7dWPFCvAOCHQIsW1eqa8sxTjHVkOYoZnqX82vZoabfvIfvV2RFz/iFsYar6GbXmVvjJuZYXGZxm7V2UtD9qAKEfzEss1+tn0cvCAlFAAWIQ4mV4COlmvDeIsd0hgo5CTkYlz9QZWdl2s4qbB6r74blupbBkV++igTLGjCiKunBCff//mykhmonaJm80SDIKbtimFCFckAgUKepdzpoguEjRLAD7KEgPFY5u9Spm11ZytZwW7j7vD1QxjhKq1Z+2LWj50MguDKt1jAqkHJscqU6mVbGVgwKY/ffMEy+6LB4BdhgZuw2ZkeU342M5ZLFPGvVfdEVW4Dx7L/maQJtiWXhgFxV1WgycSLxkwrbwCdVGTRZQLWYsASpuxsw2A9E+RyKU2N2776ruAtKsMXAwqdLGLuaREpYR60w5aLEdjeP1MeSOGWsE8G3nyISm5NSgcR2/GwMtX0ETcSmAQ2WY8BpKoUlW8TptZIGD/p3Vh7ydcPydr/Zs8zrQ9e2UzDzOJjb5DyIfmyLFbdHDx2wVy3I1NQfqSj1xv4cB5C7hqI=
  - secure: mbjyykeTnVBgH5fXmXv6LU8i5QmUjPmdls9HlRRo0W+kFpqNaUK/fUs10OhnYKfjjTCHH/xX342Z8U88YoC9gjHYYklF/H84OUcAlOXXFvY1DgZUBcQMkHngYMVTHvCCvAS+Tn0RGFOJg+Uyv+jKsPug/Z/0iov6C9tNQ0LLLOMwnkNdGFIAh8fpYF8N7da8N1G2UD7rmeSkEDBW8yHqtvPM5jneFlYtKz6mEfrhU9rHwvoVOXeMcOjeqKz1i1Ef8ltD/8nX0MwrM+bhyINK6jJQGTQfy6YywXR8V0u5n9F5R6DC9wOWBl+lPH75wZ5773g4i6Xmm2KBK2WuNZGYAv+c8B/Me6NWE66MjO7xP1Rk9HBtrmIYBsftD0FyHQby+jshwa8A2QIEFv6PtBwwzHI2X/Y2kltSGsWGniJG/e7O87FT2WpHRKVv1WDqzCytTmf87TgV18z+5gpNisN5hoy+WylMXOrSrPyIEw6E9tu8Ad7Q0VZI8Utv4wmmyehS3tiG0DGAM2YNNkti0enSdu4/pO991cR7fg9pyXzRzDdoBIsSSeEurvE0w2UMpwDfE+VePRZ2eFJPN7U6WyFRtw/fJpwVpu775JzHE+AWb0ohGApFdfj31FxEDMRKnS46i2geZf/LzbM9o/0gmSMWw+FukNXf2sFyhxHeajNFbTc=
  - secure: OlJa3JTRnzU7PTvnli0EKaBlBiCG2n127kcvhJLdnwgQS+YK/cxmw2OQfPywnQtN8cA6KcoJ/3EDWZTBAX1C9cM+D8POLCzEcGWqSeM3W8ynk648Ztw31+foN35IWWPB/1G9CNFr6Dbaw3QGnDhtsj8Uddpzijpoau5p0aLNZm+lC0uBD8hcWqoej9a54MMUeJVxPQFpkI8KTRl0xpXQ2PbgT/eCyxoAnEAG1/842K94qe71Sg0blaIAmsbkh93akIgZWJXYh1TX639UTUx/Yd9rq5+srwAflh+rp9l+dy0TGMnJxMz3RtWbFM7yz0/OV0iCoQMf2XcdtGDMlLoycuwvBR8xLcUtjakmmd5M109jFcj1umKgWA8iPR6U7rBF25+5L86gxwhsu2TdhAqCymUs1gxmI+mdaQa1u4vWqJ5tbJKCVKUoDHz4M5pDG9UmUnRe7DYG3pc4jovsek1QHCox2nDskXiZn5/GiGlNzWHdYdkuk7eD1Lhp+OXkV9p4kgoSbfjtxySUf9RVLW2KHwAYi5AggRWJghkOfe6VBloqKFqhlMg9arx27T5ZLPwXrDUJ+EBFlciKCKkcE84fNI5BJPkwgClNetEOUJjNQeu0R5pMfdDIeP/VW8AQ9OSXBcCrA7JNYCsUW1sS8AcNaAZzxRgxxM3fJwcyAVWV2uc=
  - secure: JgwuB+vbcUVEK0UbQKX2fS05WrwBTDS7KWTwF5KgpiyjvcWcxYYOm1WkSzHEPT/w0YBd076S6gu5NoZMtcqQ56kBcfSeli/4KaXoFYKY5m8A3kMXilloCSwRanrDY8l06mEM0773GsRQu/DxaA9yIbg4eS4464hMvrrmWLilS/RSJQs5ul0pLNvLzbFNj7Cfb1o+UPYVAY9L28cYw0CD6QsU5UqXwt4AMKMEUphCmWi0zzE2IadDMVhsaAh+BhgDABW5e5srhL1QO1d02bBkpwMPIh4mLxlqmsOPFZr/I7KyBgTuI/bvblhgODA5snJmiqqVpgag7vCGPfGJBU5DEa0iAXML5vMF7e8JjjfC/0yfNtZhJTlmfh7iW20CQ0C8YiYb3dRZ2vQp9+cS4HJc5dq+fHI98rEqbIFfi0TkkoEXKsSDsiLML6RdW4qeiCYQ7+xEEeLzYV5S1LQvDVxG6UczBjElNTvfgnz2jTtYi5M+2BHu0P4nHePcSCPZ0cJ+RZjzKSoLqjO9xIljCVWPt9zDWpaERmuk1S/DYwbHAoLbxua5SazQXUtT5KUA9v0c/jDMHKJ2eILfRSc94rQeNhepHfPVQi6TScuS1qj38ybr8g3R+VV1YnuHFCoOjlyOHrujS0o9cLEH9tVa8+bE0wRK0YYCt+Gb9owtglOZ1cc=
  - secure: MxYFlT8XqennWSJeALLNfMAtr+kHhU4DbmhEJV03/eGjrKH4t7wsVoF4yM956wHdsmd0Fg9vpAgCHoKtBG9uwfYisaHznBhk0QfXIe0MXX/zieFMjE2HTvGV3jJq5vfR0LwVJkJlPeqo/tVdWilQmHH7ja2VGCk3XaP9yTxc1MOgYf/tM+L0KD6IJLvpU20Zx4h7/GYHu5aZHrfgFSIw/R9W34gp1S7sxd0g5lcULDbL7obISCMYmIM0pQZ6j0rRFwCkZkFPnX2DABlzNDUL19W9q06KmzO2e2mDnW/BVHueVKlCo4M5QMuYkeF7TqvfhHiRju++CLycqA0nUQ9xp8bxxqfNjsaPgNP+iqmloZJdd0FH9dd927WWsxzJH+3WeIkc1tuYWqUlfJ4BcV4Sy4kDVSCzkWeIPkdMboZVXKOvJWCQK2n5BsB9yLG0yO98Nz6wC1DeDbpP1sBQ+n55vnRPQ24XcJJrYn9O3W1DIwQDywlAAzEeGdkHZAhw5ZO/onmSsWiEZ+hkSLamnfQIqAwCO5VCMqbQV4o5vY7sUXRBiPvz7CDvRFXdPFOeJu3jJU6J2TSOaL/wu+mSzgOc2PfOAIo0mR0DscuNZCLbdKdHvuQGstktaZeNH0zOxhBllUl2CfSfNuzv6FHD5pM1tm1HiR2QDNS+wADp8g3uo9U=
  - secure: f0QnmXByXAaetuN0LJROM9QCfzSFBxQ4w+XgZ2nVRD8SeqA4pHvcv5A28GkWpgdjsySOTeWfpruVABLqLaaQqKcLe4uHBi9DqNQiGx/Yyl5dLrNedFWUBPesg6Sej3jediMV0DKJs6UA1ILfEcBTxSXNrdb3S7EYDfve6lV3EC2uoipozfcAibiLqw3e55oaRW7QJunsnWCiztqAvr56CZsoialqlbGGwgRhfGBOsb66WgJsoxR9LXQBgmkhsb5yy1gd9Lvwqm9yezq8QfrOT144wnHmesAydXzY7dnN3wWJVbXeqrOJLBF0/aRJr1nOK34+QfnrwHa5KKcGqTUYg+JvUEOpv9kZvfzztfr/Alj3+wihPZqrBYriSPR5G9Er3nm2XOH+KEkJMCqqNfAgrL+X75Nzu5KMF049bzCxsBDSgrJ8BbBdVnshVlcU4YW73nj2DGTsD04X7NqdQ53bWxHwhT5RN6fv7R/rqvx0gfywBsJW5imfNkUgETgblLsMDz2jz1++uPXbtsxnzfPiZ7uMB+MH56LVLs1p43Stt+qFriHC2hMkE1PY3rweUsJKri5290gMBCRyNXBe/p84j//WIm95yqHKCj2rKW61ZKeI5x3pNrYqoDZhB1bIIQ9RHV9NI0wULCYYKr2BeTEHsRTNnIa09ZdrrBu0ET6Rzzk=
  - secure: ecLWMzHqm+ln+EZmTYMaGfGdUCs/sgydsvDVr2yjF45FmbMrt1ge5mO8JRiSfIs7pOcAl1EjyXz0Ljf/uzAD6EHtNBV/Wk2C1Ecnj0tRIE5yKKjbyGvacApQyrIRnwLdmQEfn8iAlXZWehz6srvNq2tNkcHlPLE7wqJuJa052g6x+e3j1Kb/DawYvY8Nm/kDBdGXfqeq9RkYH/qxJZmfDYNDzfXm0RmTLfmNlz7soRytZh6IA71vsJ8bOPUWAsGcs+v7qkt/5yB9xjnVvlCbNa7TV/VWlq74JSrcS2b93M1pWFEsei84xPHsMT1zuquEt82IxwFZlENxyuaohJuPghBkKCz+C7HVKU69yXR03o03iQUfmRB9T1M+PyukRgEp0wf+KKq3svLyJZT4hlZuXZjKvpn2IIqQ3P+DcKSbz+zjIaMPja+m6nXJ2I24ncIK+Z+9NrFdAKjylCB5vNoO5FrVLmxXtqJCegccNYh2ubOEGEN1AH0rXLKZfrvoXMeHEyY/QVKH2SpZaNjOLthWEefupwKRVAIyRL8tEJ21HgrKmQOTwzGHZUTz3F4BNiRXAVQCZBoKYkSq52pVtz1m6WPG9iXJvufMmQ1fTIavREhl4blBTtq+ZPMyYO0sarJKiVkT/GF5qFomX9Y3DHarn7oX1WGl3ocF58ze1s1/b84=
  - secure: exQc+9l3unWe4HLkUFQ79aMAodI3a48KATp7ydNegBkA9GP1u5xbudLM560SlHTgX4iEH2hl5/r31dUbbN1kNwI+E7Uign8BnOvxO0+HfIg1KEZs6FKD/SBE1gQJw7sg910duAAf1fsXNx7TV/UGF8nLFmUcipWTf2r0/y0J6lOEL98Hys3wKbD5Uf5ys5frq1fDL3LBH+yLzCXDqWG+NWLVG+Oiqji1fsLr8T7J/lHNjf0uMeiI971jjC8pSj7Imh1y4pPZgGw1qjJbBKQEt40SSKvb7/cJ1MKNKy2TQp+a2618IOORKatCkNRfuIt2I51QiW8CgQT0lygOwLLVpbtGB/pqxAyAcPQt6iF+Kw1iA5NEDw2QRFQn2NWlaT83UVL8O7YGF93m0Zz9oAXzWvQ5ApSRaFZ4Yqf1q4QJwr3Lb5aUl4p/AqywbzYJMOlKOy7x7AACOZk7aI62uRbU712R2QXFtKWkXsLSdAt9D03W+S/Id4dvtGazbOaWpAmp9blKa6vqedTfmZkKqB6alHI9m0J3ie9vvLbWaXKmiscAsX2KDh00r+sIHaFDiGHD4Q8HQiAQs1VsvPfJY++Jd+ooZ9Nc+Iu0ypXxbWChKT/cvCNR/zo+IxE8WTbDDRhYVvCTxCsHTGGtp5Te2PSCcy9fvtWf1/Ux38TdKOB7DyI=
  - secure: UghL82Kv++sfjn6UUzME0nhkRImbcyR32ywxNkRW8zlN0a0tau6669Ux28jdxPcAYzdd+Hgnj37MlN0Zb84R3wYWHIWL/fX5ko4KgRmTacxtsWyMTYGr3OE0zEYsSaIYSzUfEMTYXUB8W6A6ZYRCmF/toYu4jKS424bqVP2+lgE8q60cYRD4fHwbOBZ4fNbQqTmdOk94djF1wmV3TgJY6PrLB7GxX7UPqo+0XTN2umC7YiDo1kVgDKebmszX5gXtnZyQbct1raJLizROzXsSpHyD2IJcFc/MgP1kc4xOYslWaMcGRQXv2wsXlzVzbfY8ibJ7G1GluNOkH1CSzP0X16jRGwgvb/YnXPL5w8fLXuPaMyVkPwoZr2QdXby6L/8iKWSCzd8zN+DGiYDQNGXke1w1pCloix0f1pABJvnhXV3hnLNkAEjIlK7zYkB7aTmEXJMID+uzqP3koScn31jq5xwMcXGeCD5Ob7Yzk7iQszgx+X40HYujwgK6Bmg4CjB4l969GTRsV/5MPDYQxGQwa1tuZMke69AULI1c1yDxJjJWcek+Uier0a/dDROy3GuYNugZcNdLW5Lxig9Nq726AmXkBU9gIX2adtmoiQP3BgDakXuIbNvJyELt/12qoPwCurPGpLq42pC/2EhIclmgD+p16VeIbsUYiLQkIEkiQ3A=
deploy:
  provider: npm
  email: esoftware@equalexperts.com
  api_key: "$NPM_TOKEN"
  skip_cleanup: true
